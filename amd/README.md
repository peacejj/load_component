### 方案二：amd

amd 格式也是一种模块化方案，这里我们选择知名度比较高的 require.js 作为 amd 模块加载器。

#### 步骤

1. 打包：组件代码打包为 umd 或 amd 格式，打包时配置 Webpack externals，使打包产物不包含公共的依赖；
1. 上传：打包的组件 js 上传到 cdn；
1. 加载&注册：在需要使用组件时，用 requirejs 获取组件，并进行注册。
1. 注册；见load.js


#### 缺点

1. 平台代码（上述代码的vue-app）也需要编译为 amd 格式，然后上传到 cdn 上，开发流程改变，需要定制化的开发平台项目的发布机制。
1. 有些第三方库没有提供 amd 或 umd 格式，需要开发者自己开发工具去转换（此过程中可能有很多坑要踩）；

#### 优点

1. 相比于方案一，组件的依赖可以有版本差异且互相不影响。
1. 组件和组件的依赖都可以按需加载，真正做到按需加载。
1. 有现成的加载 css 文件的机制；
